(()=>{var I;function b(e){return e===null||e===0||e===I?!1:!({}.hasOwnProperty.call(e,"error")||!{}.hasOwnProperty.call(e,"counseling_agencies")||!{}.hasOwnProperty.call(e,"zip"))}var v="https://api.mapbox.com/mapbox.js/v3.3.1/mapbox.js",M="https://api.mapbox.com/mapbox.js/v3.3.1/mapbox.css",S=window.cfpbHudSettings.mapbox_access_token,x=window.cfpbHudSettings.hud_data,_=document.getElementById("hud_print-page-link");_&&_.addEventListener("click",e=>{e.preventDefault(),window.print()});var t,p=[],d=null,u={};function z(){let e=document.createElement("link");e.rel="stylesheet",e.href=M,document.head.appendChild(e)}function A(){let e=document.createElement("script");e.addEventListener("load",k),e.async=!0,e.src=v,document.head.appendChild(e)}function k(e){e.target.removeEventListener("load",k),B()}function B(){!!document.getElementById("hud-hca-api-map-container")&&(document.getElementById("hud_search_container").classList.remove("no-js"),window.L.mapbox.accessToken=S,t=window.L.mapbox.map("hud-hca-api-map-container").setView([40,-80],2).addLayer(window.L.mapbox.styleLayer("mapbox://styles/mapbox/streets-v11")),x.counseling_agencies&&j(x))}function T(e){let n="hud-result-"+Number.parseInt(e,10),o=u[n];return typeof o=="undefined"&&(o=document.getElementById(n),u[n]=o),o}function j(e){u={};for(let n=0;n<p.length;n++)t.removeLayer(p[n]);if(p=[],d!==null&&t.removeLayer(d),t.setZoom(2),t.setView([40,-80]),b(e)===!0){let n=e.zip.lat,o=e.zip.lng,f=[n,o];t.setZoom(14),t.setView(f);let s=-1/0,r=1/0,l=-1/0,m=1/0;d=window.L.circle(f,3).addTo(t),e.counseling_agencies.forEach((g,y)=>{let i=g.agc_ADDR_LATITUDE,c=g.agc_ADDR_LONGITUDE,D=new window.L.LatLng(i,c);i>l&&(l=i),i<m&&(m=i),c>s&&(s=c),c<r&&(r=c);let a=y+1;a<10&&(a="0"+a);let E=window.L.icon({iconUrl:"/static/apps/find-a-housing-counselor/img/hud_gmap/agc_"+a+".png",iconAnchor:[14,32],iconSize:[27,32]}),L=new window.L.Marker(D,{icon:E}).addTo(t);p[y]=L,L.on("click",function(){T(a).scrollIntoView({behavior:"smooth",block:"start"})})});let h=(s-r)/10,w=(l-m)/10;t.fitBounds([[m-w,r-h],[l+w,s+h]])}}z();A();})();
//# sourceMappingURL=common.js.map
